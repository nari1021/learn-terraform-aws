# 파일 및 디렉토리

## 1). 파일 확장자
일반 텍스트 파일에 저장되는 `.tf`, json 기반 변형의 `.tf.json` 확장자 사용

## 2). 텍스트 인코딩
구성 파일은 항상 UTF-8 인코딩을 사용
일반적으로 Windows 스타일 줄 끝(CRLF)보다 Unix 스타일 줄 끝(LF)를 사용하지만 둘 다 허용된다.

## 3). 디렉토리 및 모듈
1. Terraform module
    - 디렉토리의 최상위 구성 파일로만 구성
    - 중첩 디렉토리는 완전히 별도의 모듈로 취급되고 구성에 자동으로 포함되지 않는다.
    - 모듈 호출을 사용하여 다른 모듈을 구성에 명시적으로 포함할 수 있다.
    - 이러한 하위 모듈은 로컬 디렉토리(상위 모듈의 디렉토리 또는 디스크의 다른 위치에 중첩) 또는 Terraform Registry와 같은 외부 소스에서 가져올 수 있다.

- Terraform은 모듈의 모든 구성 파일을 평가하여 전체 모듈을 단일 문서로 효과적으로 처리한다.

## 4). 루트 모듈
- Terraform은 항상 단일 루트 모듈의 컨텍스트에서 실행된다.
- 완전한 Terraform 구성은 루트 모듈과 하위 모듈의 트리(루트 모듈에서 호출한 모듈, 해당 모듈에서 호출한 모듈 등 포함)으로 구성된다.
- Terraform CLI에서 루트 모듈 = Terraform이 호출되는 작업 디렉토리
    -> 명령행 옵션을 사용해서 작업 디렉토리 외부에 루트 모듈을 지정할 수 있지만 실제로는 드물다.
- Terraform Cloud 및 Terraform Enterprise에서 작업 공간의 루트 모듈은 기본적으로 구성 디렉토리의 최상위 수준(버전 제어 리포지토리 또는 직접 업로드를 통해 제공됨)으로 설정되지만, 작업 공간 설정은 대신 사용할 하위 디렉토리를 지정할 수 있다.
